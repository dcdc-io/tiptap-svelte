(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{103:function(e,t,c){"use strict";c.r(t);var b=c(0),n=c(1),o=c(67),s=c.n(o),i=(c(2),c(10)),r=c(11);function j(e){let t,c,n,o,s,i,r,j,O,d,h,u,m;const f=[l,a],v=[];function p(e,t){return e[1]&&!e[0]?0:1}return h=p(e),u=v[h]=f[h](e),{c(){t=Object(b.y)("div"),c=Object(b.y)("h2"),n=Object(b.fb)("Collaborative Editing"),o=Object(b.bb)(),s=Object(b.y)("div"),i=Object(b.fb)("With the Collaboration Extension it's possible for several users to work\n      on a document at the same time. To make this possible, client-side and\n      server-side code is required. This example shows this using a\n      "),r=Object(b.y)("a"),j=Object(b.fb)("socket server on glitch.com"),O=Object(b.fb)("\n      . To keep the demo code clean, only a few nodes and marks are activated.\n      There is also set a 250ms debounce for all changes. Try it out below:"),d=Object(b.bb)(),u.c(),this.h()},l(e){t=Object(b.n)(e,"DIV",{class:!0});var a=Object(b.l)(t);c=Object(b.n)(a,"H2",{});var l=Object(b.l)(c);n=Object(b.p)(l,"Collaborative Editing"),l.forEach(b.v),o=Object(b.o)(a),s=Object(b.n)(a,"DIV",{class:!0});var h=Object(b.l)(s);i=Object(b.p)(h,"With the Collaboration Extension it's possible for several users to work\n      on a document at the same time. To make this possible, client-side and\n      server-side code is required. This example shows this using a\n      "),r=Object(b.n)(h,"A",{href:!0,target:!0});var m=Object(b.l)(r);j=Object(b.p)(m,"socket server on glitch.com"),m.forEach(b.v),O=Object(b.p)(h,"\n      . To keep the demo code clean, only a few nodes and marks are activated.\n      There is also set a 250ms debounce for all changes. Try it out below:"),h.forEach(b.v),d=Object(b.o)(a),u.l(a),a.forEach(b.v),this.h()},h(){Object(b.g)(r,"href","https://glitch.com/edit/#!/tiptap-sockets"),Object(b.g)(r,"target","_blank"),Object(b.g)(s,"class","message"),Object(b.g)(t,"class","editor")},m(e,a){Object(b.J)(e,t,a),Object(b.d)(t,c),Object(b.d)(c,n),Object(b.d)(t,o),Object(b.d)(t,s),Object(b.d)(s,i),Object(b.d)(s,r),Object(b.d)(r,j),Object(b.d)(s,O),Object(b.d)(t,d),v[h].m(t,null),m=!0},p(e,c){let n=h;h=p(e),h===n?v[h].p(e,c):(Object(b.H)(),Object(b.jb)(v[n],1,1,()=>{v[n]=null}),Object(b.k)(),u=v[h],u||(u=v[h]=f[h](e),u.c()),Object(b.ib)(u,1),u.m(t,null))},i(e){m||(Object(b.ib)(u),m=!0)},o(e){Object(b.jb)(u),m=!1},d(e){e&&Object(b.v)(t),v[h].d()}}}function a(e){let t,c;return{c(){t=Object(b.y)("em"),c=Object(b.fb)("Connecting to socket server…")},l(e){t=Object(b.n)(e,"EM",{});var n=Object(b.l)(t);c=Object(b.p)(n,"Connecting to socket server…"),n.forEach(b.v)},m(e,n){Object(b.J)(e,t,n),Object(b.d)(t,c)},p:b.P,i:b.P,o:b.P,d(e){e&&Object(b.v)(t)}}}function l(e){let t,c,n,o,s,r,j,a=1===d?"user":"users";const l=new i.c({props:{class:"editor__content",editor:e[1]}});return{c(){t=Object(b.y)("div"),c=Object(b.fb)(d),n=Object(b.bb)(),o=Object(b.fb)(a),s=Object(b.fb)(" connected"),r=Object(b.bb)(),Object(b.r)(l.$$.fragment),this.h()},l(e){t=Object(b.n)(e,"DIV",{class:!0});var i=Object(b.l)(t);c=Object(b.p)(i,d),n=Object(b.o)(i),o=Object(b.p)(i,a),s=Object(b.p)(i," connected"),i.forEach(b.v),r=Object(b.o)(e),Object(b.m)(l.$$.fragment,e),this.h()},h(){Object(b.g)(t,"class","count svelte-fvi6hb")},m(e,i){Object(b.J)(e,t,i),Object(b.d)(t,c),Object(b.d)(t,n),Object(b.d)(t,o),Object(b.d)(t,s),Object(b.J)(e,r,i),Object(b.O)(l,e,i),j=!0},p(e,t){const c={};2&t&&(c.editor=e[1]),l.$set(c)},i(e){j||(Object(b.ib)(l.$$.fragment,e),j=!0)},o(e){Object(b.jb)(l.$$.fragment,e),j=!1},d(e){e&&Object(b.v)(t),e&&Object(b.v)(r),Object(b.u)(l,e)}}}function O(e){let t,c,n=e[1]&&j(e);return{c(){n&&n.c(),t=Object(b.z)()},l(e){n&&n.l(e),t=Object(b.z)()},m(e,o){n&&n.m(e,o),Object(b.J)(e,t,o),c=!0},p(e,[c]){e[1]?n?(n.p(e,c),Object(b.ib)(n,1)):(n=j(e),n.c(),Object(b.ib)(n,1),n.m(t.parentNode,t)):n&&(Object(b.H)(),Object(b.jb)(n,1,1,()=>{n=null}),Object(b.k)())},i(e){c||(Object(b.ib)(n),c=!0)},o(e){Object(b.jb)(n),c=!1},d(e){n&&n.d(e),e&&Object(b.v)(t)}}}let d=0;function h(e,t,c){let b=!0,o=null,j=null;return Object(n.d)(()=>{j=s()("wss://tiptap-sockets.glitch.me").on("init",e=>function({doc:e,version:t}){c(0,b=!1),o&&o.destroy(),c(1,o=new i.b({content:e,extensions:[new r.i,new r.j({levels:[1,2,3]}),new r.b,new r.d,new r.n,new r.k,new r.g({version:t,debounce:250,onSendable:({sendable:e})=>{j.emit("update",e)}})]}))}(e)).on("update",e=>o.extensions.options.collaboration.update(e)).on("getCount",e=>function(e){e=e}(e))}),Object(n.c)(()=>{o&&o.destroy(),j&&j.destroy()}),[b,o]}class u extends b.a{constructor(e){var t;super(),document.getElementById("svelte-fvi6hb-style")||((t=Object(b.y)("style")).id="svelte-fvi6hb-style",t.textContent='.count.svelte-fvi6hb{display:flex;align-items:center;font-weight:bold;color:rgba(0, 0, 0, 0.5);color:#27b127;margin-bottom:1rem;text-transform:uppercase;font-size:0.7rem;line-height:1}.count.svelte-fvi6hb:before{content:"";display:inline-flex;background-color:#27b127;width:0.4rem;height:0.4rem;border-radius:50%;margin-right:0.3rem}',Object(b.d)(document.head,t)),Object(b.I)(this,e,h,O,b.W,{})}}t.default=u},90:function(e,t){}}]);